import{c as v,d as y,g as E}from"./chunk-RZVHLPUG.js";import{D as C,E as F,F as _,I as T,J as A,z as I}from"./chunk-UFMPGLG5.js";import{Da as g,Ia as u,Pa as s,Sa as t,Ta as e,Ua as h,Xa as f,_a as i,ab as l,cb as b,ta as r,ua as p,wb as x,xb as D,yb as S}from"./chunk-BYRLRRJK.js";import{d as c}from"./chunk-ECBXVGWK.js";var U=a=>["/dashboard/user/",a];function L(a,o){a&1&&(t(0,"div"),i(1,"Chargement..."),e())}function R(a,o){if(a&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e(),t(11,"td"),i(12),e(),t(13,"button",13),i(14," D\xE9tails "),e()()),a&2){let n=o.$implicit,m=f(2);r(2),l(" ",n.docId," "),r(2),l(" ",n.nom," "),r(2),l(" ",n.age," "),r(2),l(" ",n.email," "),r(2),l(" ",m.findLastWeight(n)," "),r(2),l(" ",m.dateToStringFormat(n.createdAt.toDate())," "),r(),s("routerLink",b(7,U,n.docId))}}function O(a,o){if(a&1&&(t(0,"table",8)(1,"thead",9)(2,"tr",10)(3,"th",11),i(4,"Identifiant"),e(),t(5,"th",11),i(6,"Client"),e(),t(7,"th",11),i(8,"\xC2ge"),e(),t(9,"th",11),i(10,"Adresse e-mail"),e(),t(11,"th",11),i(12,"Poids"),e(),t(13,"th",11),i(14,"Date d'inscription"),e(),t(15,"th",11),i(16,"Boutton"),e()()(),t(17,"tbody"),u(18,R,15,9,"tr",12),e()()),a&2){let n=f();r(18),s("ngForOf",n.a)}}var k=I(T),N=F(k),M=class a{constructor(o,n){this.router=o;this.userService=n;this.data=null,this.a=[]}data;mySignal;a;loading=!0;formattedDate=Date.toLocaleString();ngOnInit(){return c(this,null,function*(){this.getData(),this.a=yield this.userService.getUsers(),console.log("DashboardComponent: allClientsUsers=",this.a)})}getData(){return c(this,null,function*(){let o=yield _(C(N,"user"));this.data=o.docs,this.loading=!1})}findLastWeight(o){return o.poids.sort((m,d)=>{let w=m.createdAt.toDate().getTime();return d.createdAt.toDate().getTime()-w})[0].poid}dateToStringFormat(o){let n,m={year:"numeric",month:"long",day:"numeric"},d=o.toLocaleDateString(void 0,m);return d===null?"":d}static \u0275fac=function(n){return new(n||a)(p(v),p(A))};static \u0275cmp=g({type:a,selectors:[["app-dashboard"]],decls:13,vars:2,consts:[[1,"p-6","bg-gray-100","min-h-screen"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-xl","font-bold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[4,"ngIf"],["class","w-full text-lef overflow-auto block",4,"ngIf"],[1,"w-full","text-lef","overflow-auto","block"],[1,"w-full"],[1,"border-b","w-full"],[1,"py-2"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","py-3","px-8",3,"routerLink"]],template:function(n,m){n&1&&(t(0,"div",0)(1,"header",1)(2,"h1",2),i(3,"Tableau de bord"),e()(),t(4,"div",1)(5,"h2",3),i(6,"Acc\xE8s rapide"),e(),h(7,"div",4),e(),t(8,"div",5)(9,"h2",3),i(10,"Mes \xE9l\xE8ves"),e(),u(11,L,2,0,"div",6)(12,O,19,1,"table",7),e()()),n&2&&(r(11),s("ngIf",m.loading),r(),s("ngIf",!m.loading))},dependencies:[S,x,D,E,y],encapsulation:2})};export{M as DashboardComponent};
