import{a as j,c as B,d as G,e as z,f as Y,g as q,h as V,i as Q,j as W,k as $}from"./chunk-KI6BIJJN.js";import{g as L}from"./chunk-CDY3BCYD.js";import{C as H,H as J,I as K,J as h}from"./chunk-2KHRJYSO.js";import{$a as s,Ba as U,Bb as X,Ea as f,Fa as F,Ja as S,M as D,Qa as x,R as b,Sa as M,Ta as a,Ua as n,Va as m,W as I,Xa as Z,Ya as N,Za as P,_a as _,ab as v,bb as c,fa as E,g as O,ha as k,ia as i,ka as g,oa as w,ua as u,va as A,xb as R,zb as T}from"./chunk-KT4MGJLT.js";import{d as p}from"./chunk-ECBXVGWK.js";var re=["chart"],ee=(()=>{class r{constructor(){this.chart=i(),this.annotations=i(),this.colors=i(),this.dataLabels=i(),this.series=i(),this.stroke=i(),this.labels=i(),this.legend=i(),this.markers=i(),this.noData=i(),this.fill=i(),this.tooltip=i(),this.plotOptions=i(),this.responsive=i(),this.xaxis=i(),this.yaxis=i(),this.forecastDataPoints=i(),this.grid=i(),this.states=i(),this.title=i(),this.subtitle=i(),this.theme=i(),this.autoUpdateSeries=i(!0),this.chartReady=k(),this.chartInstance=g(null),this.chartElement=U.required("chart"),this.ngZone=b(E),this.isBrowser=X(b(w))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{O.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(o=>o!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return p(this,null,function*(){let{default:e}=yield import("./chunk-E4PNRQZ5.js");window.ApexCharts||=e;let t={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(y=>{let C=this[y]();C&&(t[y]=C)}),this.destroy();let d=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,t));this.chartInstance.set(d),this.render(),this.chartReady.emit({chartObj:d})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,t,o,d){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,t,o,d))}updateSeries(e,t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,t))}appendSeries(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,t))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,t))}toggleDataPointSelection(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,t))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,t,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,t,o))}addYaxisAnnotation(e,t,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,t,o))}addPointAnnotation(e,t,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,t,o))}removeAnnotation(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,t))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=f({type:r,selectors:[["apx-chart"]],viewQuery:function(t,o){t&1&&P(o.chartElement,re,5),t&2&&_()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[I],decls:2,vars:0,consts:[["chart",""]],template:function(t,o){t&1&&m(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return r})();var te=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=F({type:r})}static{this.\u0275inj=D({})}}return r})();function oe(r,l){if(r&1&&(a(0,"tr",19)(1,"td",20),s(2),n(),a(3,"td",20),s(4),n()()),r&2){let e=l.$implicit;u(2),v(e.createdAt.toMillis()),u(2),v(e.poid)}}function ae(r,l){if(r&1&&m(0,"apx-chart",13),r&2){let e=N();x("series",e.chartOptions.series)("chart",e.chartOptions.chart)("title",e.chartOptions.title)("xaxis",e.chartOptions.xaxis)("markers",e.chartOptions.markers)("annotations",e.chartOptions.annotations)}}var ie=class r{constructor(l,e){this.fb=l;this.userService=e;this.userId="",this.chartOptions=null,this.mesureForm=this.fb.group({mesure:["",[]]})}userId;user=g(K.construct());chartOptions;mesureForm;get mesure(){return this.mesureForm.get("mesure")}handleSubmit(){console.log("it clicked!");let l;l=this.user();let e=new J(this.mesure?.value,H.now());h.addMesure(this.userId,e).then(()=>{l.poids.push(e)})}set id(l){console.log(`UserDetailComponent: recieved ${l} from the route`),this.userId=l,h.searchMyUserByDocId(l).then(t=>{console.log("in input",t.toString()),this.user.set(t),console.log(this.user());let o;o=Array.from(this.user().poids,(d,y)=>[d.createdAt.toMillis(),d.poid]),this.makeChart(o)})}makeChart(l){console.log("dataUser=",l),this.chartOptions={annotations:{yaxis:[{y:75,strokeDashArray:16,borderColor:"#ff0000",offsetX:0,offsetY:-6,width:"100%",label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:"Goal",textAnchor:"end",position:"right",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:"#777",fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:"apexcharts-yaxis-annotation-label",padding:{left:6,right:6,top:2,bottom:2}}}},{y:30,strokeDashArray:16,borderColor:"#ff0000",offsetX:0,offsetY:-6,width:"100%",label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:"Record personel",textAnchor:"end",position:"right",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:"#777",fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:"apexcharts-yaxis-annotation-label",padding:{left:6,right:6,top:2,bottom:2}}}}]},markers:{size:3,colors:["red"],strokeColors:"#fff",shape:"circle"},series:[{name:"Poids moyen au cours de ce mois",data:l}],chart:{height:350,type:"line"},title:{text:"Mon poids"},xaxis:{type:"datetime",min:new Date("31 Jan 2025").getTime(),tickAmount:6}}}soumettre(){return p(this,null,function*(){console.log("UserDetailComponent: ",this.user)})}static \u0275fac=function(e){return new(e||r)(A(W),A(h))};static \u0275cmp=f({type:r,selectors:[["app-user-details"]],inputs:{id:"id"},decls:45,vars:7,consts:[[1,"bg-gray-100","min-h-screen","p-8"],[1,"max-w-4xl","mx-auto","bg-white","rounded-lg","shadow-md","p-6"],[1,"text-3xl","font-bold","text-gray-800","mb-6"],[1,"mb-8"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"space-y-4"],[1,"font-medium","text-gray-600"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition duration-200",4,"ngFor","ngForOf"],[3,"series","chart","title","xaxis","markers","annotations"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","mesure",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","mesure","name","mesure","placeholder","Par exemple: 54kg","formControlName","mesure","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["type","submit",1,"btn","btn-primary","w-full"],[1,"hover:bg-gray-50","transition","duration-200"],[1,"px-6","py-4","text-sm","text-gray-700"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"D\xE9tails de l'utilisateur"),n(),a(4,"div",3)(5,"h2",4),s(6,"Informations personnelles"),n(),a(7,"div",5)(8,"p")(9,"span",6),s(10,"Nom :"),n(),s(11),n(),a(12,"p")(13,"span",6),s(14,"Pr\xE9nom :"),n(),s(15),n(),a(16,"p")(17,"span",6),s(18,"Email :"),n(),s(19),n(),a(20,"p")(21,"span",6),s(22,"\xC2ge :"),n(),s(23),n()()(),a(24,"div")(25,"h2",4),s(26,"Historique des mesures de poids"),n(),a(27,"div",7)(28,"table",8)(29,"thead")(30,"tr",9)(31,"th",10),s(32,"Date"),n(),a(33,"th",10),s(34,"Poids (kg)"),n()()(),a(35,"tbody",11),S(36,oe,5,2,"tr",12),n()()()(),S(37,ae,1,6,"apx-chart",13),a(38,"form",14),Z("ngSubmit",function(){return t.handleSubmit()}),a(39,"div",15)(40,"label",16),s(41,"Poids"),n(),m(42,"input",17),n(),a(43,"button",18),s(44," Ajouter "),n()()()()),e&2&&(u(11),c(" ",t.user().nom,""),u(4),c(" ",t.user().prenom,""),u(4),c(" ",t.user().email,""),u(4),c(" ",t.user().age,""),u(13),x("ngForOf",t.user().poids),u(),M(t.chartOptions!==null?37:-1),u(),x("formGroup",t.mesureForm))},dependencies:[T,R,L,te,ee,$,z,j,Y,B,G,Q,q,V],encapsulation:2})};export{ie as UserDetailComponent};
