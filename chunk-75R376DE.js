import{b as I,d as w,g as L}from"./chunk-HRXX42JO.js";import{$ as E,A as f,E as y,H as p,K as o,L as n,La as C,M as b,Oa as P,P as x,Q as i,S as l,T as D,V as S,ba as A,d as g,ea as v,fa as F,ia as T,x as r,y as h}from"./chunk-O5IARLKP.js";var M=s=>["/dashboard/user/",s];function W(s,t){if(s&1&&(o(0,"tr")(1,"td"),i(2),n(),o(3,"td"),i(4),n(),o(5,"td"),i(6),n(),o(7,"td"),i(8),n(),o(9,"td"),i(10),n(),o(11,"td"),i(12),n(),o(13,"button",11),i(14," D\xE9tails "),n()()),s&2){let a,e=t.$implicit,d=x();r(2),l(" ",e.id," "),r(2),D(" ",e.get("nom")," ",e.get("prenom")," "),r(2),l(" ",e.get("age")," "),r(2),l(" ",e.get("email")," "),r(2),l(" ",(a=d.findLastWeight(e.data()))==null?null:a.unPoid," "),r(2),l(" ",d.dateToStringFormat(e.data().createdAt.toDate())," "),r(),p("routerLink",S(8,M,e.id))}}var B=C(P),R=w(B),_=class s{constructor(t){this.router=t;this.data=null}data;formattedDate=Date.toLocaleString();ngOnInit(){this.getData()}getData(){return g(this,null,function*(){let t=yield L(I(R,"user"));this.data=t.docs,this.data.forEach(a=>{let e})})}logWeightMeasurements(t){t&&t.poids&&Array.isArray(t.poids)?t.poids.forEach(a=>{console.log(`Poids : ${a.unPoid} kg, Mesur\xE9 le : ${a.createdAt}`)}):console.error(`Le champ "poids" est manquant ou n'est pas un tableau.`)}sortByDate(t,a="asc"){if(t&&t.poids&&Array.isArray(t.poids)){let e=t.poids.sort((m,c)=>{console.log("a=",m),console.log("b=",c);let u=m.createdAt.toDate().getTime();return c.createdAt.toDate().getTime()-u});console.log("Mesures de poids tri\xE9es par date :",e);let d=e[0];return e}else return console.error(`Le champ "poids" est manquant ou n'est pas un tableau.`),[]}findLastWeight(t){if(console.log(t),console.log(typeof t),t&&t.poids&&Array.isArray(t.poids)){let e=t.poids.sort((d,m)=>{let c=d.createdAt.toDate().getTime();return m.createdAt.toDate().getTime()-c})[0];return{unPoid:e.unPoid,createdAt:e.createdAt.toDate()}}else return console.error(`Le champ "poids" est manquant ou n'est pas un tableau.`),null}dateToStringFormat(t){let a,e={year:"numeric",month:"long",day:"numeric"},d=t.toLocaleDateString(void 0,e);return d===null?"":d}testFct(t){}static \u0275fac=function(a){return new(a||s)(h(v))};static \u0275cmp=f({type:s,selectors:[["app-dashboard"]],decls:30,vars:1,consts:[[1,"p-6","bg-gray-100","min-h-screen"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-xl","font-bold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"w-full","text-lef","overflow-auto","block"],[1,"w-full"],[1,"border-b","w-full"],[1,"py-2"],[4,"ngFor","ngForOf"],[1,"bg-blue-600","text-white","py-3","px-8","rounded-lg","shadow-lg","hover:bg-blue-700","transition","duration-300",3,"routerLink"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"header",1)(2,"h1",2),i(3,"Tableau de bord"),n()(),o(4,"div",1)(5,"h2",3),i(6,"Acc\xE8s rapide"),n(),b(7,"div",4),n(),o(8,"div",5)(9,"h2",3),i(10,"Mes \xE9l\xE8ves"),n(),o(11,"table",6)(12,"thead",7)(13,"tr",8)(14,"th",9),i(15,"Identifiant"),n(),o(16,"th",9),i(17,"Client"),n(),o(18,"th",9),i(19,"\xC2ge"),n(),o(20,"th",9),i(21,"Adresse e-mail"),n(),o(22,"th",9),i(23,"Poids"),n(),o(24,"th",9),i(25,"Date d'inscription"),n(),o(26,"th",9),i(27,"Boutton"),n()()(),o(28,"tbody"),y(29,W,15,10,"tr",10),n()()()()),a&2&&(r(29),p("ngForOf",e.data))},dependencies:[A,E,T,F],encapsulation:2})};export{_ as DashboardComponent};
