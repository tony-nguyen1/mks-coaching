import{a as U,b as u,c as I,d as N,e as T,f as D,g as z,h as q,j as A,k as G}from"./chunk-KI6BIJJN.js";import{C as S,I as k,J as _}from"./chunk-MRG7TQUI.js";import{$a as o,Ea as C,Ja as c,Qa as d,Ta as n,Ua as e,Va as f,Wa as h,X as x,Xa as w,Y as b,Ya as g,ua as m,va as y,yb as E,zb as V}from"./chunk-KT4MGJLT.js";import{d as F}from"./chunk-ECBXVGWK.js";function P(i,r){i&1&&(n(0,"div",13),o(1," Veuillez entrer un email valide. "),e())}function j(i,r){i&1&&(n(0,"div",13),o(1," Le mot de passe doit contenir au moins 8 caract\xE8res dont une majuscules, une minuscules, un chiffre. "),e())}function R(i,r){if(i&1){let t=h();n(0,"div")(1,"form",4)(2,"div",5)(3,"label",6),o(4,"Email"),e(),f(5,"input",7),c(6,P,2,0,"div",8),e(),n(7,"div",9)(8,"label",10),o(9,"Mot de passe"),e(),f(10,"input",11),c(11,j,2,0,"div",8),e(),n(12,"button",12),w("click",function(){x(t);let a=g();return b(a.suivant())}),o(13," Suivant "),e()()()}if(i&2){let t,l,a,p=g();m(),d("formGroup",p.inscriptionForm),m(5),d("ngIf",((t=p.inscriptionForm.get("email"))==null?null:t.invalid)&&((t=p.inscriptionForm.get("email"))==null?null:t.touched)),m(5),d("ngIf",((l=p.inscriptionForm.get("password"))==null?null:l.invalid)&&((l=p.inscriptionForm.get("password"))==null?null:l.touched)),m(),d("disabled",((a=p.inscriptionForm.get("email"))==null?null:a.invalid)||((a=p.inscriptionForm.get("password"))==null?null:a.invalid))}}function B(i,r){i&1&&(n(0,"div",13),o(1," Veuillez entrer votre nom. "),e())}function Z(i,r){i&1&&(n(0,"div",13),o(1," Veuillez entrer votre pr\xE9nom. "),e())}function L(i,r){i&1&&(n(0,"div",13),o(1," Vous devez avoir au moins 18 ans. "),e())}function $(i,r){i&1&&(n(0,"div",13),o(1," Veuillez entrer un poids valide (minimum 30 kg). "),e())}function H(i,r){i&1&&(n(0,"div",13),o(1," Veuillez entrer un pseudo. "),e())}function J(i,r){if(i&1){let t=h();n(0,"div")(1,"form",4)(2,"div",5)(3,"label",14),o(4,"Nom"),e(),f(5,"input",15),c(6,B,2,0,"div",8),e(),n(7,"div",5)(8,"label",16),o(9,"Pr\xE9nom"),e(),f(10,"input",17),c(11,Z,2,0,"div",8),e(),n(12,"div",5)(13,"label",18),o(14,"\xC2ge"),e(),f(15,"input",19),c(16,L,2,0,"div",8),e(),n(17,"div",5)(18,"label",20),o(19,"Poids (kg)"),e(),f(20,"input",21),c(21,$,2,0,"div",8),e(),n(22,"div",9)(23,"label",22),o(24,"Pseudo"),e(),f(25,"input",23),c(26,H,2,0,"div",8),e(),n(27,"button",24),w("click",function(){x(t);let a=g();return b(a.soumettre())}),o(28," S'inscrire "),e()()()}if(i&2){let t,l,a,p,v,s=g();m(),d("formGroup",s.inscriptionForm),m(5),d("ngIf",((t=s.inscriptionForm.get("nom"))==null?null:t.invalid)&&((t=s.inscriptionForm.get("nom"))==null?null:t.touched)),m(5),d("ngIf",((l=s.inscriptionForm.get("prenom"))==null?null:l.invalid)&&((l=s.inscriptionForm.get("prenom"))==null?null:l.touched)),m(5),d("ngIf",((a=s.inscriptionForm.get("age"))==null?null:a.invalid)&&((a=s.inscriptionForm.get("age"))==null?null:a.touched)),m(5),d("ngIf",((p=s.inscriptionForm.get("poids"))==null?null:p.invalid)&&((p=s.inscriptionForm.get("poids"))==null?null:p.touched)),m(5),d("ngIf",((v=s.inscriptionForm.get("pseudo"))==null?null:v.invalid)&&((v=s.inscriptionForm.get("pseudo"))==null?null:v.touched)),m(),d("disabled",s.inscriptionForm.invalid)}}var K=/^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\D*\d).{8,}$/,M=class i{constructor(r,t){this.fb=r;this.inscriptionForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.pattern(K)]],nom:["",u.required],prenom:["",u.required],age:[18,[u.required,u.min(18)]],poids:[30,[u.required,u.min(30)]],pseudo:["",u.required]})}inscriptionForm;etape=1;suivant(){this.etape===1&&this.inscriptionForm.get("email")?.valid&&this.inscriptionForm?.get("password")?.valid&&(this.etape=2)}soumettre(){return F(this,null,function*(){if(this.inscriptionForm.valid){let r=new k("",this.inscriptionForm.value.nom,this.inscriptionForm.value.prenom,this.inscriptionForm.value.email,this.inscriptionForm.value.age,S.now(),[{unPoid:this.inscriptionForm.value.poids,createdAt:S.now()}],"client");yield _.createUser(r).then(t=>{console.log("Document \xE9crit avec ID :",t.id," ts :",r.createdAt.toDate().toString())}).catch(t=>{console.error("Erreur lors de l'ajout du document :",t)}),console.log("Apr\xE8s \xE9criture du Document")}else console.error("Formulaire invalide")})}static \u0275fac=function(t){return new(t||i)(y(A),y(_))};static \u0275cmp=C({type:i,selectors:[["app-sign-up"]],decls:6,vars:2,consts:[[1,"flex","items-center","justify-center","h-screen"],[1,"container","mx-auto","p-4","max-w-md","bg-white","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-center","mb-6"],[4,"ngIf"],[3,"formGroup"],[1,"mb-4"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","placeholder","Votre email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mb-6"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","type","password","placeholder","Votre mot de passe",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["type","button",1,"w-full","btn","btn-primary",3,"click","disabled"],[1,"text-red-500","text-sm","mt-1"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["id","nom","formControlName","nom","type","text","placeholder","Votre nom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["id","prenom","formControlName","prenom","type","text","placeholder","Votre pr\xE9nom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["for","age",1,"block","text-sm","font-medium","text-gray-700"],["id","age","formControlName","age","type","number","placeholder","Votre \xE2ge",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["for","poids",1,"block","text-sm","font-medium","text-gray-700"],["id","poids","formControlName","poids","type","number","placeholder","Votre poids",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["for","pseudo",1,"block","text-sm","font-medium","text-gray-700"],["id","pseudo","formControlName","pseudo","type","text","placeholder","Votre pseudo",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["type","button",1,"w-full","btn","btn-primary","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(t,l){t&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Inscription"),e(),c(4,R,14,4,"div",3)(5,J,29,7,"div",3),e()()),t&2&&(m(4),d("ngIf",l.etape===1),m(),d("ngIf",l.etape===2))},dependencies:[G,T,U,D,I,N,z,q,V,E],encapsulation:2})};export{M as SignUpComponent,K as StrongPasswordRegx};
